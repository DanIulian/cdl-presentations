% vim: set tw=78 aw:
\documentclass{beamer}

\usepackage[utf8x]{inputenc} % diacritice
\usepackage[romanian]{babel}
\usepackage{color}			 % highlight
\usepackage{alltt}			 % highlight
\usepackage{code/highlight}	 % highlight
\usepackage{hyperref}        % folositi \url{http://...}
                             % sau \href{http://...}{Nume Link}
\mode<presentation>
{ \usetheme{Rochester} }		% TODO: settle this

% Titlul nu foloseşte Unicode pentru că e o problemă căreia nu i-am dat de
% cap.
\title[Unit Testing and Debugging]{Unit Testing and Debugging}
\subtitle{CDL - Cursul 3}
\institute{ROSEdu}
\author{Mihai Maruseac \\\texttt{mihai.maruseac@gmail.com}}

\begin{document}

% Slide-urile cu mai multe părţi sunt marcate cu textul (cont.)
\setbeamertemplate{frametitle continuation}[from second]
% Arătăm numărul frame-ului
\setbeamertemplate{footline}[frame number]

\frame{\titlepage}

\frame{\tableofcontents}

\section{Unit testing}
\frame{\tableofcontents[currentsection]}

\begin{frame}{De ce testing?}
\begin{itemize}
\item Nu ar trebui să scriem întâi cod și apoi să ne gândim la a-l testa?
\item \pause Nici măcar o bucată de cod?
\item \pause Scriem bucata 1 de cod pentru a obține funcționalitatea A
\item \pause Scriem bucata 2 pentru a obține și funcționalitatea B.
\item \pause Le legăm împreună fără a le testa în prealabil.
\item \pause \textit{Where did this bug come from?}
\item \pause O bucată conține cod incompatibil cu cealaltă.
\item \pause Exemplu real: \pause Hammerfall
\item \pause Solutia? \pause Unit testing
\end{itemize}
\end{frame}

\begin{frame}{Unit Testing}
\begin{itemize}
\item Paradigmă de dezvoltare prin care programatorii dobândesc încredere în faptul că bucăți individuale din codul lor sunt potrivite pentru folosirea în orice situații.
\item \pause Unitatea: cea mai mică bucată de cod care poate funcționa independent de restul aplicației
\item \pause Scopul: izolarea porțiunilor de program și demonstrarea funcționalității lor corecte
\item \pause Un unit-test complet oferă garanția că unitatea testată funcționează corect în orice situație care s-ar putea ivi.
\item \pause Test-driven development
\item \pause Unul din fundamentele Extreme Programming
\end{itemize}
\end{frame}

\begin{frame}{Extreme Programming (XP)}
\begin{itemize}
\item Metodologie de programare, stil de dezvoltare, disciplină de lucru
\item \pause Scop principal: reducerea costului asociat unei schimbări minore în cod.
\end{itemize}
\end{frame}

\begin{frame}{Ideile XP}
\begin{itemize}
\item Codul $=$ cel mai important produs al procesului de dezvoltare al unui proiect
\item \pause Codul poate fi (și TREBUIE) redactat clar, concis și într-o manieră care nu lasă loc la alte interpretări.
\item \pause Codul poate fi folosit și pentru a transmite ideile în cazul în care alte alternative eșuează
\item \pause Nimeni nu poate fi sigur de ceva până ce nu se efectuează teste
\item \pause Nu poți fi sigur $100\%$ că ai scris ce trebuia scris
\item \pause UNIT TESTS $\rightarrow$ testathon
\item \pause Proiectul pornește de la o etapă de design
\end{itemize}
\end{frame}

\begin{frame}{Paradigme XP utile}
\begin{itemize}
\item Pair Programming
\item \pause Unit Testing (Test Driven Development)
\end{itemize}
\end{frame}

\begin{frame}{Back to Unit Testing}
\begin{itemize}
\item Ok, am înțeles ce este și de ce e util
\item \pause Dar cum îl folosim?
\item \pause Scriem testele
\item \pause Și testăm. \pause Cum?
\begin{itemize}
\item manual
\item \pause automat
\end{itemize}
\item \pause Vom vedea ambele metode prin exemple.
\end{itemize}
\end{frame}

\begin{frame}{Problema propusă}
\begin{itemize}
\item Se cere să construim o funcție ce calculează cel mai mic divizor comun pentru două numere întregi.
\item \pause NU vom începe prin a scrie funcția
\item \pause Ne gândim ce axiome respectă funcția noastră:
\begin{itemize}
\item \pause gcd(a, a) = a, $\forall a \in Z$
\item gcd(1, a) = 1, $\forall a \in Z$
\item gcd(0, a) = a, $\forall a \in Z$
\item gcd(a,nb) = gcd(a, b), $\forall a,b,n \in Z$
\item gcd(a, b) = gcd(b, a), $\forall a,b \in Z$
\item gcd(a, b) = gcd(-a, b), $\forall a,b \in Z$
\end{itemize}
\item \pause Totuși, noi scriem cod nu matematică.
\item \pause Cum trecem axiomele în cod?
\item \pause Valori particulare sau aleatorii (sau combinații)
\end{itemize}
\end{frame}

\begin{frame}{Testare manuală}
\begin{itemize}
\item Testele se scriu unul câte unul și se folosesc multe instrucțiuni if pentru a vedea dacă testul a fost trecut sau nu
\item \pause Poate deveni (extrem de) supărător la un moment dat
\item \pause Uneori, nu avem altă alternativă ieftină.
\end{itemize}
\end{frame}

\begin{frame}{Testare manualăi - exercițiu}
\begin{itemize}
\item Descărcați de pe ......
\item Identificați în main testul lipsă, adăugați-l, compilați și rulați executabilul creat.
\item \pause Completați funcția gcd până ce va trece toate testele
\item \pause Se observă cantitatea mare de linii de cod scrise pentru o simplă testare.
\item \pause Să vedem dacă nu putem mai bine. :D
\end{itemize}
\end{frame}

\begin{frame}{Testare automată}
\begin{itemize}
\item Cineva a scris pentru noi un framework de testare
\item \pause Noi doar vom scrie testele
\item \pause Simplu, nu? \pause Să vedem...
\end{itemize}
\end{frame}

\begin{frame}{Testare automată + teaser Python}
\begin{itemize}
\item Descărcați ........
\item Folosiți \linebreak ........\linebreak pentru a rula fișierul Python
\item \pause Adăugați următorul cod la locația indicată în fișier.
\item Testați programul.
\end{itemize}
\end{frame}

\begin{frame}{Unit testing - concluzii}
\begin{itemize}
\item ÎNAINTE de a scrie codul, ne obligă să detaliem aspecte esențiale ale proiectului, într-o manieră cu adevărat folositoare.
\item \pause În timpul SCRIERII codului, putem evita capcana scrierii a prea mult cod. \pause Putem considera un modul ca fiind complet în momentul în care a trecut toate testele scrise pentru el.
\item \pause În timpul MODIFICĂRII codului, suntem siguri că orice vom obține va fi cel puțin la fel de bun ca rezultatul dinainte de modificare.
\item \pause În cazul scrierii codului în ECHIPĂ, ajută la creșterea certitudinii că liniile scrise de altcineva nu vor induce erori în liniile proprii.
\end{itemize}
\end{frame}

\section{Debugging}
\frame{\tableofcontents[currentsection]}

\begin{frame}{Preambul}
\begin{itemize} % Just like normal LaTeX
\item Prezentarea încearcă să atragă persoanele implicate în CDL spre a folosi
\LaTeX Beamer.
\item Am copiat cu neruşinare schiţele lui Tibi pentru prima parte.
\item Be sure to check the code: lots of comments and TODOs.
\item Spam the list, IRC, or Vlad (nu la telefon) for more info.
\end{itemize}
\end{frame}

\section{Cod}
\frame{\tableofcontents[currentsection]}

\begin{frame}
\frametitle{Exemplu de cod}
Acesta este un script bash:\\
\input{code/01} % includem codul
\end{frame}

\begin{frame}{Încă un exemplu de cod}
Acesta este un program C:

\input{code/02}
\end{frame}

\section{Overlay-uri}
\frame{\tableofcontents[currentsection]}

\begin{frame}{Comanda `pause'}
`Pause' ne lasă să arătăm textul `gradual'.

\pause Putem să folosim pause cu itemize sau orice altă facilitate.
\begin{itemize}
\pause \item De exemplu.
\pause \item Încă un exemplu.
\pause \item Dar nu e foarte flexibil...
\end{itemize}
\end{frame}

\begin{frame}{Overlay-uri mai avansate}
\only<1>{Cue chapter 9.3 from the Beamer manual.}
\only<2>{Facem o mare ciorbă de overlay-uri. \textbf{Notă:} E vorba de un
singur slide -- numărul şi titlul se păstrează.}
\begin{itemize}
\item<3-> orice comandă poate fi urmată (fără spaţiu) de un specificator de
overlay;
\item<4-> specificatoarele sunt marcate cu \texttt{<} şi \texttt{>};
\item<5-> \texttt{<4>} înseamnă ``doar pe overlay-ul 4'';
\item<5-> \texttt{<1-3>} înseamnă ``doar pe overlay-urile de la 1 până la 3,
inclusiv'';
\item<6-> \texttt{<5->} înseamnă ``de la overlay-ul 5 până la sfârşit'' (de
fapt, până la slide-ul următor, fireşte);
\item<6-> \texttt{<-4>} înseamnă ``de la început până la overlay-ul 4'';
\item<7-> Toate exemplele de mai sus au avut comanda \texttt{item} urmată de
un overlay. Trebuie să ţinem cont de ordine manual, dar nu cred că vom avea
nevoie de cine-ştie-ce efecte.
\end{itemize}
\end{frame}


\end{document}
