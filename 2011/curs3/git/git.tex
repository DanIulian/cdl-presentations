% vim: set tw=78 aw sw=2 sts=2 noet:
\documentclass{beamer}

%\includeonlyframes{c} -- speeding up compilation speed during debug

\usepackage[utf8x]{inputenc} % diacritice
\usepackage[romanian]{babel}
\usepackage{hyperref}        % folositi \url{http://...}
\mode<presentation>
\usetheme{CDL}

\title[]{Git}
\subtitle{CDL 2011 - Cursul 2}
\institute[]{ROSEdu}
\author[]{
  Mihai Maruseac \texttt{mihai@rosedu.org} \\
  Razvan Deaconescu \texttt{razvan@rosedu.org}
}

\setbeamertemplate{frametitle continuation}[from second]
\setbeamertemplate{footline}[frame number]

%\pgfdeclareimage[height=3cm]{m1}{img/01}
%\pgfdeclareimage[height=3cm]{m2}{img/02}
%\pgfdeclareimage[height=6cm]{m3}{img/03}
%\pgfdeclareimage[height=6.5cm]{m4}{img/04}
%\pgfdeclareimage[height=5cm]{m5}{img/05}

\begin{document}

\maketitle

\begin{frame}{Before start}
  \begin{alertblock}{Homework}
    Parcurgeți \url{http://gitimmersion.com/} înaintea cursului.
  \end{alertblock}
\end{frame}

\begin{frame}{Git history}
  \begin{itemize}
    \item Linus Torvalds
    \item Linux Kernel (moved from BitKeeper)
    \item design:
      \begin{itemize}
        \item \textit{CVS as example of what \textbf{not} to do}
        \item distribuit, workflow a la BitKeeper
        \item protecție contra distrugerilor/erorilor
        \item perfomanță
      \end{itemize}
    \item development start: 3 aprilie 2005
    \item 29 aprilie 2005: 6.7 patch-uri/s în kernel via Git
    \item 16 iunie 2005: 2.6.12 pe Git (acum și pe GitHub)
    \item 31 ianuarie 2011: git 1.7.4
    \item C, Perl, shell
  \end{itemize}
\end{frame}

\section{Live demo}

\begin{frame}{Config}
  \begin{itemize}
    \item username, email
    \item ui options
    \item .gitconfig file
  \end{itemize}
\end{frame}
%\begin{frame}{Git config}
%  \begin{itemize}
%    \item local în \texttt{.git/config}
%    \item global în \texttt{\$HOME/.gitconfig}
%  \end{itemize}
%  \pause
%  \begin{alertblock}{Task 1}
%    \begin{itemize}
%      \item install git
%      \item \texttt{git config --global user.name "\textit{nume prenume}"}
%      \item \texttt{git config --global user.email "\textit{nume@dom.com}"}
%      \item \texttt{git config --global color.ui auto}
%      \item \texttt{git config --global color.pager true}
%      \item \texttt{git config --global core.editor \textit{editor}}
%    \end{itemize}
%  \end{alertblock}
%\end{frame}

\begin{frame}{First repo}
  \begin{itemize}
    \item init
    \item add simple file
    \item ignore
    \item commit
  \end{itemize}
\end{frame}
%\begin{frame}[label=Content]{Conținut}
%  \begin{alertblock}{Careful!}
%    Git urmărește conținut, nu fișiere!!
%  \end{alertblock}
%  \begin{itemize}
%    \item work tree (working dir): local
%    \item index: pregătit de commit
%    \item repository: commit salvat
%  \end{itemize}
%  \pgfuseimage{m5}
%\end{frame}
%
%\begin{frame}{Staging}
%  \begin{itemize}
%    \item work tree $\rightarrow$ index
%    \item \texttt{git add \textit{filename}}
%    \item \texttt{git rm \textit{filename}}
%    \item \texttt{git mv \textit{filename}}
%  \end{itemize}
%  \pause
%  \begin{alertblock}{Task 4}
%    \begin{itemize}
%      \item Modificați sursa \texttt{main.c} din director, adăugând numele vostru pe linia
%      corespunzătoare.
%      \item Mutați în index fișierul modificat
%    \end{itemize}
%  \end{alertblock}
%\end{frame}
%
%\begin{frame}{Commiting}
%  \begin{itemize}
%    \item index $\rightarrow$ repository \textbf{local}
%    \item \texttt{git commit \textbf{-m "\textit{mesaj}"}}
%  \end{itemize}
%  \begin{alertblock}{Careful!}
%    Nu folosiți mesaje goale!
%  \end{alertblock}
%\end{frame}
%\begin{frame}{Status}
%  \begin{itemize}
%    \item \texttt{git status}
%    \item prezintă:
%      \begin{itemize}
%        \item conținut din index {staged}
%        \item conținut care nu e în index {non-staged}
%        \item conținut neurmărit (non-tracked)
%        \item other info
%      \end{itemize}
%  \end{itemize}
%  \pause
%  \begin{alertblock}{Task 6}
%    \begin{itemize}
%      \item Modificați fișierul \texttt{README}, adăugând numele și grupa pe linia
%      corespunzătoare.
%      \item creați un fișier numit după voi în working dir
%      \item vizualizați starea working dir.
%      \item faceți working dir clean
%    \end{itemize}
%  \end{alertblock}
%\end{frame}
\begin{frame}{Repo status}
pic
\end{frame}

\begin{frame}{Going public}
  \begin{itemize}
    \item remote
    \item push
  \end{itemize}
\end{frame}

\begin{frame}{Contributing}
  \begin{itemize}
    \item clone
    \item small change
    \item commit
    \item push
    \item pull
  \end{itemize}
\end{frame}

\begin{frame}{Repo status}
pic - 2 commituri, vederi din fiecare remote
\end{frame}

\begin{frame}{More about commits}
  \begin{itemize}
    \item date
    \item metadate
    \item parent(s)
    \item tree
    \item commit msg
    \item practices
  \end{itemize}
\end{frame}

%\begin{frame}{Git metadata}
%  \begin{itemize}[<+->]
%    \item director \texttt{.git} \textit{doar} în rădăcină
%    \item conținut:
%      \begin{itemize}
%        \item \texttt{.git/config} fișier configurare
%        \item \texttt{.git/hooks} scripturi pentru evenimente
%        \item \texttt{.git/refs} referințe (la ce?)
%      \end{itemize}
%  \end{itemize}
%\end{frame}
%
%\begin{frame}{Commit (2)}
%  \begin{itemize}
%    \item fiecare commit are un ID: SHA1
%    \item fiecare commit are cel puțin un părinte (cu excepția primului)
%    \item graf aciclic de commit-uri
%    \pause
%    \item undo: \texttt{git reset}
%    \item type: \texttt{git commit --amend}
%    \item revenire la un working tree anterior: \texttt{git revert \textit{id}}
%    (nerecomandat)
%    \item doar pt un fișier: \texttt{git checkout \textit{file}}
%    \pause
%    \item cum referim un commit?
%  \end{itemize}
%\end{frame}
%
%\begin{frame}{Commit (3)}
%  \begin{description}
%    \item[\texttt{HEAD}] = ultimul commit
%    \item[\texttt{HEAD\textasciicircum}] = penultimul
%    \item[\texttt{HEAD\textasciicircum\textasciicircum}] = antepenultimul
%    \item[...] = etc
%    \pause
%    \item[\texttt{HEAD\textasciitilde5}] = \texttt{HEAD\textasciicircum\textasciicircum\textasciicircum\textasciicircum\textasciicircum}
%    \pause
%    \item[a946e644d5b4c26aaa4e73338805e207bbfd78b0] = full hash
%    \pause
%    \item[a946e6] = short hash
%  \end{description}
%\end{frame}

\begin{frame}{working in parallel}
  \begin{itemize}
    \item fiecare pe branch propriu câte un feature
    \item la final le merguim și apoi push
  \end{itemize}
\end{frame}
%\begin{frame}{Merge vs Rebase}
%  \begin{itemize}
%    \item Ce se întâmplă la pull când avem și local commit-uri noi?
%    \pause
%    \item merge - combină commit-urile
%    \item rebase - reordonează istoria
%  \end{itemize}
%  \pgfuseimage{m1}
%  \pgfuseimage{m2}
%\end{frame}

\begin{frame}{Repo status}
pic - 2 commituri, vederi din fiecare remote
\end{frame}

\begin{frame}{viewing}
  \begin{itemize}
    \item git log
    \item git show
    \item git diff
    \item gitk, gitg, tig
    \item tags
  \end{itemize}
\end{frame}
%\begin{frame}{Diff}
%  \begin{itemize}
%    \item \texttt{git diff} - diferențe index - working tree
%    \item \texttt{git diff --cached} - conținut index
%    \item \texttt{git diff \textit{idcommit1}} - commit și working dir
%    \item \texttt{git diff \textit{idcommit1} \textit{idcommit2}} - commit și
%    commit
%  \end{itemize}
%  \pause
%  \begin{alertblock}{Task 7}
%    \begin{itemize}
%      \item obtineți un diff între HEAD și starea inițială a repo-ului
%    \end{itemize}
%  \end{alertblock}
%\end{frame}
%\begin{frame}{Tags}
%  \begin{itemize}
%    \item momente importante din development (release, etc)
%    \item creat cu \texttt{git tag \textit{nume} \textit{ref}}
%    \item șters cu \texttt{git tag -d \textit{nume}}
%    \item Putem referi commit-uri cu tag-uri prin numele tagurilor
%  \end{itemize}
%\end{frame}
%

\begin{frame}{fix wrong commit}
  \begin{itemize}
    \item rebase
    \item ammend
  \end{itemize}
\end{frame}

\begin{frame}{bug fixing}
  \begin{itemize}
    \item ceva pt stash
    \item ceva pt bisect
  \end{itemize}
\end{frame}

\begin{frame}{Extra - mailing patches}
  \begin{itemize}
    \item format-patch
    \item send-email
  \end{itemize}
\end{frame}

\begin{frame}[label=l]{Links}
  \begin{itemize}
    \item \href{http://en.wikipedia.org/wiki/Comparison_of_revision_control_software}{Comparație între SCM-uri}
    \item \href{http://en.wikibooks.org/wiki/Understanding_Darcs/Patch_theory}{Darcs Patch Theory}
    \item \href{http://talks.rosedu.org/prezentari/prezentarea03}{Prezentare
    Tech Talks Git (Mircea Bardac)}
    \item \href{http://github.com}{GitHub}
    \item
    \href{http://www.eqqon.com/index.php/Collaborative_Github_Workflow}{Workflof
    GitHub}
  \end{itemize}
\end{frame}

\end{document}
