% vim: set tw=78 aw sw=2 sts=2 noet:
\documentclass{beamer}

%\includeonlyframes{c} -- speeding up compilation speed during debug

\usepackage[utf8x]{inputenc} % diacritice
\usepackage[romanian]{babel}
\usepackage{hyperref}        % folositi \url{http://...}
\mode<presentation>
\usetheme{CDL}

\title[]{Git}
\subtitle{CDL 2011 - Cursul 2}
\institute[]{ROSEdu}
\author[]{
  Mihai Maruseac \texttt{mihai@rosedu.org} \\
  Razvan Deaconescu \texttt{razvan@rosedu.org}
}

\setbeamertemplate{frametitle continuation}[from second]
\setbeamertemplate{footline}[frame number]

%\pgfdeclareimage[height=3cm]{m1}{img/01}
%\pgfdeclareimage[height=3cm]{m2}{img/02}
%\pgfdeclareimage[height=6cm]{m3}{img/03}
%\pgfdeclareimage[height=6.5cm]{m4}{img/04}
\pgfdeclareimage[height=5cm]{m5}{img/05}
\pgfdeclareimage[height=5cm]{m6}{img/snapshots}
\pgfdeclareimage[height=5cm]{m7}{img/decentr}
\pgfdeclareimage[height=8cm]{m8}{img/08}

\begin{document}

\maketitle

\begin{frame}{But First \ldots}
  \begin{alertblock}{Homework}
    Parcurgeți \url{http://gitimmersion.com/} înaintea cursului.
  \end{alertblock}
\end{frame}

\begin{frame}{Git History}
  \begin{itemize}
    \item Linus Torvalds
    \item Linux Kernel (moved from BitKeeper)
    \item design:
      \begin{itemize}
        \item \textit{CVS as example of what \textbf{not} to do}
        \item distribuit, workflow a la BitKeeper
        \item protecție contra distrugerilor/erorilor
        \item perfomanță
      \end{itemize}
    \item development start: 3 aprilie 2005
    \item 29 aprilie 2005: 6.7 patch-uri/s în kernel via Git
    \item 16 iunie 2005: 2.6.12 pe Git (acum și pe GitHub)
    \item 31 ianuarie 2011: git 1.7.4
    \item C, Perl, shell
  \end{itemize}
\end{frame}

\section{Live Demo}

\begin{frame}{Keywords}
  \begin{itemize}
    \item repository
    \item clone
    \item commit
    \item HEAD
    \item index/staging
    \item tracked/untracked
    \item snapshot
    \item remote
    \item push/pull
    \item branch
    \item merge
  \end{itemize}
\end{frame}

\begin{frame}{Config}
  \begin{itemize}
    \item \texttt{git config --global user.name "\textit{nume prenume}"}
    \item \texttt{git config --global user.email "\textit{nume@dom.com}"}
    \item \texttt{git config --global color.ui auto}
    \item \texttt{git config --global color.pager true}
    \item \texttt{git config --global core.editor \textit{editor}}
    \item \texttt{cat $\sim$/.gitconfig}
  \end{itemize}
\end{frame}

\begin{frame}{Snapshots not Changesets}
  \pgfuseimage{m6}
\end{frame}

% Vom scrie un program care va primi un număr ca argument și-l va afișa
\begin{frame}{First Repo}
  \begin{itemize}
    \item \texttt{git init}
    \item \texttt{git status}
    \item ignore % binar + executabil
    \item \texttt{git add}
    \item \texttt{git commit}
  \end{itemize}
  \pgfuseimage{m5}
\end{frame}

\begin{frame}{More about Commits}
  \begin{itemize}
    \item date
    \item metadate
    \begin{itemize}
      \item ID (SHA1)
      \item parent(s)
      \item tree
      \item commit msg
      \item tags (if any)
    \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}{Commit Reference}
  \begin{description}
    \item[\texttt{HEAD}] = ultimul commit
    \item[\texttt{HEAD\textasciicircum}] = penultimul
    \item[\texttt{HEAD\textasciicircum\textasciicircum}] = antepenultimul
    \item[...] = etc
    \pause
    \item[\texttt{HEAD\textasciitilde5}] = \texttt{HEAD\textasciicircum\textasciicircum\textasciicircum\textasciicircum\textasciicircum}
    \pause
    \item[a946e644d5b4c26aaa4e73338805e207bbfd78b0] = full hash
    \item[a946e6] = short hash
    \pause
    \item by tag (\texttt{v1.0})
  \end{description}
\end{frame}

\begin{frame}{Going Public}
  \begin{itemize}
    \item \texttt{git remote}
    \item \texttt{git push}
    \item \texttt{git fetch}
    \item \texttt{git pull}
  \end{itemize}
\end{frame}

% RD: cleaning up
\begin{frame}{Cleaning up}
  \begin{itemize}
    \item \texttt{git reset}
    \item \texttt{git checkout}
    \item \texttt{git clean}
    \item \texttt{git rm}
  \end{itemize}
\end{frame}

% RD: ignoring files
\begin{frame}{Ignoring Files}
  \begin{itemize}
    \item \texttt{.gitignore}
    \item \texttt{.git/info/exclude}
    \item \texttt{git update-index --assume-unchanged file.txt}
  \end{itemize}
\end{frame}

% RD: small and descriptive commits
\begin{frame}{Small and Descriptive Commits}
  \begin{itemize}
    \item commit message
    \item \texttt{git add -i}
  \end{itemize}
\end{frame}

% Pe un branch vom descompune numerele in factori primi
% Pe celalt vom calcula cmddc
% Undeva trebuie sa introducem o mica greseala, invizibila initial
\begin{frame}{Working in Parallel}
  \vspace{-2cm}\hspace{5cm}
  \pgfuseimage{m8}
  \hspace{-5cm}\vspace{-6cm}
  \begin{itemize}
    \item \texttt{git branch}
    \item \texttt{git merge}
    \item \texttt{git rebase}
    \pause
    \item \texttt{git pull}
    \item \texttt{git pull --rebase}
  \end{itemize}
\end{frame}

\begin{frame}{Repository Viewing}
  \begin{itemize}
    \item \texttt{git log}
    \item \texttt{git show}
    \item gitk, gitg, tig
    \item tags
  \end{itemize}
\end{frame}

% Facem un commit prost cu ceva si-l fixam dupa
\begin{frame}{Fix Wrong Commit}
  \begin{itemize}
    \item \texttt{git rebase}
    \item \texttt{git amend}
  \end{itemize}
\end{frame}

% Corectam greseala de acum cateva slide-uri
\begin{frame}{Bug Fixing}
  \begin{itemize}
    \item \texttt{git stash}
    \item \texttt{git bisect}
  \end{itemize}
\end{frame}

% Cel care a găsit greșeala o trimite cu format-patch celuilat :)
\begin{frame}{Extra -- Mailing Patches}
  \begin{itemize}
    \item \texttt{git format-patch}
    \item \texttt{git send-email}
  \end{itemize}
\end{frame}

\begin{frame}{Extra -- Git Hooks}
  \begin{itemize}
    \item \texttt{.git/hooks} in repo
    \item \texttt{post-receive}
    \item publish results
    \item create archives
    \item send e-mails
  \end{itemize}
\end{frame}

\begin{frame}[label=l]{Links}
  \begin{itemize}
    \item \href{http://en.wikipedia.org/wiki/Comparison_of_revision_control_software}{Comparație între SCM-uri}
    \item \href{http://talks.rosedu.org/prezentari/prezentarea03}{Prezentare
    Tech Talks Git (Mircea Bardac)}
    \item \href{http://nvie.com/posts/a-successful-git-branching-model/}{A
    branching model}
    \item \href{http://github.com}{GitHub}
    \item
    \href{http://www.eqqon.com/index.php/Collaborative_Github_Workflow}{Workflow
    GitHub}
    \item
    \href{http://techblog.rosedu.org/git-good-practices.html}{Git Tips and
    Good Practices}
  \end{itemize}
\end{frame}

\end{document}
