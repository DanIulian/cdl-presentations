% vim: set tw=78 aw sw=2 sts=2 noet:
\documentclass{beamer}

%\includeonlyframes{c} -- speeding up compilation speed during debug

\usepackage[utf8x]{inputenc} % diacritice
\usepackage[english]{babel}
\usepackage{hyperref}        % folositi \url{http://...}
\mode<presentation>
\usetheme{CDL}

\title[]{GIT}
\subtitle{OSSS - 2}
\institute[]{ROSEdu}
\author[]{
  Mihai Maruseac \texttt{mihai@rosedu.org}
}

\setbeamertemplate{frametitle continuation}[from second]
\setbeamertemplate{footline}[frame number]

\pgfdeclareimage[width=3cm]{vd01}{img/versionare-dummy-01}
\pgfdeclareimage[height=5cm]{vd02}{img/versionare-dummy-02}
\pgfdeclareimage[height=6cm]{ae}{img/all-equal}
\pgfdeclareimage[height=6cm]{dict}{img/dictator}
\pgfdeclareimage[height=6cm]{objs}{img/objs}
\pgfdeclareimage[height=4cm]{snapshots}{img/snapshots}
\pgfdeclareimage[height=3cm]{parent}{img/parent}
\pgfdeclareimage[height=6cm]{tags}{img/tags}
\pgfdeclareimage[height=6cm]{zones}{img/zones}
\pgfdeclareimage[height=1cm]{wtc}{img/wtc}
\pgfdeclareimage[height=8cm]{bm}{img/bm}
\pgfdeclareimage[width=5cm]{decentr}{img/decentr}
\pgfdeclareimage[height=8cm]{scms}{img/scms}
\pgfdeclareimage[width=8cm]{merge}{img/merge}
\pgfdeclareimage[height=6cm]{gh}{img/gh}
\pgfdeclareimage[height=6cm]{gpr}{img/gpr}
\pgfdeclareimage[height=8cm]{git}{img/git}

\begin{document}

\maketitle

\begin{frame}{Why?}
  \begin{center}
    \pgfuseimage{vd01}
  \end{center}
\end{frame}

\begin{frame}{Why?}
  \begin{center}
    \pgfuseimage{vd02}
  \end{center}
\end{frame}

\begin{frame}{Why?}
  \begin{itemize}
    \item change history
    \pause
    \item ability to go back
    \pause
    \item query about certain changes
    \pause
    \item non-linear development
  \end{itemize}
\end{frame}

\begin{frame}{Versioning Solutions}
  \begin{center}
    \pgfuseimage{scms}
  \end{center}
\end{frame}

\begin{frame}{Why Git?}
  \begin{itemize}
    \item cool
    \item everybody uses it
    \item distributed
    \item no Internet connectivity needed
    \item well-documented
    \item GitHub, Gitorious, BitBucket, \ldots
    \item Linux, Mac, Windows, \ldots
    \item continuous development
    \item super-cool facilities for powerusers
    \item more power by integration with third-party tools
  \end{itemize}
  \vspace{-6cm}
  \begin{center}
    \hspace{6cm}
    \pgfuseimage{decentr}
  \end{center}
\end{frame}

\begin{frame}{Git Design}
  \begin{itemize}
    \item performance
    \item nonlinear development
    \item integrity
  \end{itemize}
\end{frame}

\begin{frame}{GitHub}
  TODO: intro in GitHub
\end{frame}

\begin{frame}{Initial Config :: SSH key}
  \begin{itemize}
    \item \texttt{ssh-keygen}
    \item In \texttt{$\sim$/.ssh}:
      \begin{itemize}
        \item \texttt{id\_rsa}
        \item \texttt{id\_rsa.pub}
      \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}{Initial Config :: SSH key on GitHub}
  \begin{center}
    \pgfuseimage{gh}
  \end{center}
\end{frame}

\begin{frame}{GitHub :: online editing}
  TODO
\end{frame}

\begin{frame}{Initial Config}
  \begin{itemize}
    \item \texttt{git config --global user.name "\textit{name surname}"}
    \item \texttt{git config --global user.email "\textit{nume@dom.com}"}
    \item \texttt{git config --global color.ui auto}
    \item \texttt{git config --global color.pager true}
    \item \texttt{git config --global core.editor \textit{editor}}
  \end{itemize}
  \pause
  \begin{itemize}
    \item \texttt{cat $\sim$/.gitconfig}
  \end{itemize}
\end{frame}

\begin{frame}{GitHub :: Forking}
  TODO
\end{frame}

\begin{frame}{GitHub :: Cloning}
  TODO
\end{frame}

\begin{frame}{All repositories are created equal...}
  \begin{center}
    \pgfuseimage{ae}
  \end{center}
\end{frame}

\begin{frame}{... but some are more equal than others}
  \begin{center}
    \pgfuseimage{dict}
  \end{center}
\end{frame}

\begin{frame}{First Commit :: Making and Adding Changes}
  TODO
\end{frame}

\begin{frame}{Binary Files}
  \begin{itemize}
    \item binary diffs too big $\rightarrow$ rewrite
    \item big size cost
    \item binary files are generated
      \begin{itemize}
        \item Rule of thumb: no generated file must be included
        \item object files, executables, libraries, PDF from \LaTeX sources,
        images from Dia or Inkscape, $\ldots$
        \item must be included if not generated
      \end{itemize}
  \end{itemize}
\end{frame}

\begin{frame}{Ignore}
  \begin{itemize}
    \item local \texttt{.git/info/exclude}
    \item repository \texttt{.gitignore}: root or local to subdirectory
    \item system wide \texttt{excludesfile}
  \end{itemize}
  \pause
  \begin{itemize}
    \item \texttt{file.pdf}
    \item \texttt{/file.pdf}
    \item \texttt{!file.pdf}
    \item \texttt{/test/file.pdf}
    \item \texttt{*.pdf}
    \item \texttt{/*.pdf}
    \item \texttt{*.swp}, \texttt{*$\sim$}, \texttt{tags}, \texttt{TAGS},
      \texttt{cscope.out}
  \end{itemize}
\end{frame}

\begin{frame}{First Commit :: Making and Adding Changes}
  TODO
\end{frame}

\begin{frame}{Commits}
  \begin{itemize}
    \item small and frequent
    \item \textit{Do one thing, do one thing well!}
    \item \texttt{git add --patch} or \texttt{git add -i}
  \end{itemize}
\end{frame}

\begin{frame}{Commit Messages}
  \begin{itemize}
    \item descriptive
    \item proper phrases (Capital letter in front, ending with full-stop.)
    \item 50 characters on the first line
    \item other paragraphs afterwards describing the change
    \scriptsize
    \item
      \url{http://tbaggery.com/2008/04/19/a-note-about-git-commit-messages.html}
    \normalsize
    \item \url{http://whatthecommit.com}
  \end{itemize}
  \begin{center}
    \pgfuseimage{wtc}
  \end{center}
\end{frame}

\begin{frame}{First Push}
  TODO
\end{frame}

\begin{frame}{GitHub :: Pull Requests}
  TODO
\end{frame}

\begin{frame}{The Entire Picture}
  TODO
\end{frame}

\begin{frame}{Usual Commands}
  % TODO: obsoleted by above??
  \begin{center}
    \pgfuseimage{zones}
  \end{center}
\end{frame}

\begin{frame}{Viewing the History}
  \begin{itemize}
    \item \texttt{git log}
    \item \texttt{gitk}, \texttt{gitg}, \texttt{tig}, \ldots
  \end{itemize}
\end{frame}

\begin{frame}{Commit = snapshot, not delta}
  \begin{center}
    \pgfuseimage{snapshots}
  \end{center}
\end{frame}

\begin{frame}{Each commit knows his parent}
  \begin{center}
    \pgfuseimage{parent}
  \end{center}
\end{frame}

\begin{frame}{Tags \& Branches}
  \begin{center}
    \pgfuseimage{tags}
  \end{center}
\end{frame}

\begin{frame}{Viewing the History}
  \begin{itemize}
    \item \texttt{git show \textit{id}}
  \end{itemize}
  \pause
  \begin{itemize}
    \item \texttt{HEAD}
    \item tag
    \item \texttt{HEAD\textasciicircum}
      \texttt{HEAD\textasciicircum\textasciicircum}, \ldots
    \item \texttt{HEAD$\sim$10}
    \item hash
    \item partial hash
  \end{itemize}
\end{frame}

\begin{frame}{Branching}
  \begin{itemize}
    \item collaborative development
    \item nonlinear development
    \item fast to create, easy to use
    \item the most powerful feature of Git
  \end{itemize}
  \begin{itemize}
    \item \texttt{git branch}
    \item \texttt{git checkout}
  \end{itemize}
\end{frame}

\begin{frame}{Branching model}
  \begin{center}
    \pgfuseimage{bm}
  \end{center}
\end{frame}

\begin{frame}{Merge}
  \begin{center}
    \pgfuseimage{merge}
  \end{center}
\end{frame}

\begin{frame}{Branches and Clones}
  \begin{itemize}
    \item each clone can be seen as a new branch
    \item \texttt{git pull} makes a merge commit
      \begin{itemize}
        \item solve conflicts
        \item simultaneous changes
      \end{itemize}
    \item extra commit not always needed
  \end{itemize}
\end{frame}

\begin{frame}{\texttt{git pull --rebase}}
  \begin{center}
    \pgfuseimage{gpr}
  \end{center}
\end{frame}

\begin{frame}{Conflicts}
  TODO: solvable conflicts
  TODO: to be solved conflicts
\end{frame}

\begin{frame}{Other Cool Git Features}
  \begin{itemize}
    \item \texttt{git blame}
    \item \texttt{git bisect}
    \item \texttt{git cherry-pick}
    \item \texttt{git stash}
    \item \texttt{git send-email}, \texttt{git format-patch}
    \item \texttt{git filter-branch}
    \item Git hooks
  \end{itemize}
\end{frame}

\begin{frame}{Git is...}
  \begin{center}
    \pgfuseimage{git}
  \end{center}
\end{frame}

\begin{frame}{Local Workflow}
  \begin{enumerate}
    \item create repository: \texttt{git init .}
    \item create files/directories: editors, \texttt{mkdir}, \texttt{cp}
    \item add \textbf{content}: \texttt{git add}
    \item commit: \texttt{git commit -m "Message"}
    \item
    \item
    \item
    \item goto 2
  \end{enumerate}
\end{frame}

\begin{frame}{Contributor Workflow}
  \begin{enumerate}
    \item clone repository: \texttt{git clone URL}
    \item create files/directories: editors, \texttt{mkdir}, \texttt{cp}
    \item add \textbf{content}: \texttt{git add}
    \item commit: \texttt{git commit -m "Message"}
    \item for more local work goto 2
    \item refresh repository: \texttt{git pull --rebase}
    \item push changes: \texttt{git push origin master}
    \item goto 2
  \end{enumerate}
\end{frame}

\begin{frame}{Keywords}
  \begin{itemize}
    \item repository
    \item clone
    \item commit
    \item tree
    \item tag
    \item HEAD
    \item remote
    \item push/pull
    \item branch
    \item merge
    \item patch
    \item staging area
    \item fetch/checkout
  \end{itemize}
\end{frame}

\begin{frame}{Links}
  \begin{itemize}
    \item \href{http://gitimmersion.com/}{Git Immersion}
    \item \href{http://gitready.com/}{git ready}
    \item \href{http://www-cs-students.stanford.edu/~blynn/gitmagic/index.html}{Git Magic}
    \item \href{http://aht.github.com/whatisgit/\#/cover}{What is git?}
    \item \href{http://www.slideshare.net/err/git-machine}{Git: The Lean, Mean, Distributed Machine}
    \item \href{http://talks.rosedu.org/prezentari/prezentarea03}{Tech Talks Git (Mircea Bardac)}
    \item \href{http://nvie.com/posts/a-successful-git-branching-model/}{A branching model}
    \item \href{http://www.eqqon.com/index.php/Collaborative\_Github\_Workflow}{Workflow GitHub}
    \item \href{http://techblog.rosedu.org/tag/git}{Git posts on ROSEdu Techblog}
  \end{itemize}
\end{frame}

\end{document}
